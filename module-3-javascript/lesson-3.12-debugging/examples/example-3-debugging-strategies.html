<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debugging Strategies Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .strategy-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        h2 {
            color: #a8edea;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        p {
            margin-bottom: 15px;
            line-height: 1.6;
            color: #555;
        }

        .code-block {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
            border-left: 4px solid #a8edea;
            font-size: 14px;
            line-height: 1.4;
        }

        button {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
            margin: 5px;
        }

        button:hover {
            transform: translateY(-2px);
        }

        .output-box {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            min-height: 60px;
            border: 2px solid #e0e0e0;
            font-family: 'Courier New', monospace;
        }

        .tip-box {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .step-list {
            background: #f5f5f5;
            padding: 15px 15px 15px 35px;
            border-radius: 8px;
            margin: 10px 0;
        }

        .step-list li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔍 Debugging Strategies</h1>

        <!-- Strategy 1: Console.log Everything -->
        <div class="strategy-section">
            <h2>Strategy 1: console.log() Everything</h2>
            <p>Add logging at every step to see what's happening!</p>

            <div class="code-block">
function calculateDiscount(price, discountPercent) {
    console.log("🔍 calculateDiscount called");
    console.log("  price:", price);
    console.log("  discountPercent:", discountPercent);
    
    let discountAmount = price * (discountPercent / 100);
    console.log("  discountAmount:", discountAmount);
    
    let finalPrice = price - discountAmount;
    console.log("  finalPrice:", finalPrice);
    
    return finalPrice;
}
            </div>

            <button onclick="demoConsoleLog()">Run With Logging</button>
            <div class="output-box" id="output1"></div>

            <div class="tip-box">
                <strong>💡 When to use:</strong> When you're not sure which part of your code is causing problems. Log every variable and every step!
            </div>
        </div>

        <!-- Strategy 2: Binary Search (Comment Out) -->
        <div class="strategy-section">
            <h2>Strategy 2: Binary Search - Comment Out Code</h2>
            <p>Find the problem by commenting out half the code, then narrow it down!</p>

            <div class="code-block">
function processData() {
    // Step 1 - Works fine
    let data = getData();
    
    // Step 2 - Works fine
    // let cleaned = cleanData(data);
    
    // Step 3 - THIS CAUSES THE ERROR!
    let processed = processSpecial(data);
    
    // Step 4 - Never gets here
    // return formatOutput(processed);
}
            </div>

            <p>Comment out sections until the error disappears, then you know where the bug is!</p>

            <button onclick="demoBinarySearch()">Show Example</button>
            <div class="output-box" id="output2"></div>
        </div>

        <!-- Strategy 3: Rubber Duck Debugging -->
        <div class="strategy-section">
            <h2>Strategy 3: Rubber Duck Method 🦆</h2>
            <p>Explain your code line-by-line to a rubber duck (or any object). You'll often spot the bug while explaining!</p>

            <div class="tip-box">
                <strong>How it works:</strong>
                <ol class="step-list">
                    <li>Get a rubber duck (or teddy bear, or anything)</li>
                    <li>Read your code out loud to the duck</li>
                    <li>Explain what each line does</li>
                    <li>When you explain the buggy line, you'll often realize the mistake!</li>
                </ol>
            </div>

            <div class="code-block">
// Explaining to the duck:
// "This function takes a number..."
function double(num) {
    // "And it returns num times two..."
    return num * 2;
    // "Wait, I wanted to add 2, not multiply! Found the bug!"
}
            </div>

            <p><strong>Why it works:</strong> Forcing yourself to explain makes you think more carefully about what the code actually does vs what you think it does!</p>
        </div>

        <!-- Strategy 4: Simplify the Problem -->
        <div class="strategy-section">
            <h2>Strategy 4: Simplify the Problem</h2>
            <p>Break complex code into smaller, testable pieces.</p>

            <div class="code-block">
// Complex (hard to debug):
let result = calculate(process(transform(getData().items[0].value)));

// Simplified (easy to debug):
let data = getData();
console.log("1. data:", data);

let firstItem = data.items[0];
console.log("2. firstItem:", firstItem);

let value = firstItem.value;
console.log("3. value:", value);

let transformed = transform(value);
console.log("4. transformed:", transformed);

let processed = process(transformed);
console.log("5. processed:", processed);

let result = calculate(processed);
console.log("6. result:", result);
            </div>

            <button onclick="demoSimplify()">Run Simplified Version</button>
            <div class="output-box" id="output4"></div>
        </div>

        <!-- Strategy 5: Check Assumptions -->
        <div class="strategy-section">
            <h2>Strategy 5: Check Your Assumptions</h2>
            <p>Don't assume! Verify that variables contain what you think they contain.</p>

            <div class="code-block">
function processUser(user) {
    // Don't assume user exists!
    console.log("user:", user);
    console.log("typeof user:", typeof user);
    console.log("user is object?", typeof user === 'object');
    console.log("user has name?", user && user.name);
    
    // Don't assume it has a name property!
    if (user && user.name) {
        return "Hello, " + user.name;
    } else {
        return "Hello, Guest";
    }
}
            </div>

            <button onclick="demoCheckAssumptions()">Test With Different Inputs</button>
            <div class="output-box" id="output5"></div>
        </div>

        <!-- Strategy 6: Use Debugger Statement -->
        <div class="strategy-section">
            <h2>Strategy 6: Use the Debugger Statement</h2>
            <p>The <span class="highlight">debugger</span> keyword pauses your code so you can inspect variables!</p>

            <div class="code-block">
function calculateTotal(items) {
    let total = 0;
    
    debugger;  // Code pauses here if DevTools is open!
    
    for (let item of items) {
        total += item.price * item.quantity;
    }
    
    return total;
}
            </div>

            <div class="tip-box">
                <strong>How to use:</strong>
                <ol class="step-list">
                    <li>Add <span class="highlight">debugger;</span> where you want to pause</li>
                    <li>Open DevTools (F12)</li>
                    <li>Run the code</li>
                    <li>Code pauses at debugger line</li>
                    <li>Inspect variables, step through code</li>
                </ol>
            </div>

            <button onclick="demoDebugger()">Try Debugger (check console)</button>
            <div class="output-box" id="output6"></div>
        </div>

        <!-- Strategy 7: Test Edge Cases -->
        <div class="strategy-section">
            <h2>Strategy 7: Test Edge Cases</h2>
            <p>Test with unusual inputs to find hidden bugs!</p>

            <div class="code-block">
function divide(a, b) {
    return a / b;
}

// Test normal cases
console.log(divide(10, 2));   // 5 ✓

// Test edge cases!
console.log(divide(10, 0));   // Infinity!
console.log(divide(0, 10));   // 0 ✓
console.log(divide(-10, 2));  // -5 ✓
console.log(divide(10, -2));  // -5 ✓
console.log(divide("10", 2)); // 5 (coercion!)
console.log(divide(10, "x")); // NaN!
            </div>

            <button onclick="demoEdgeCases()">Test Edge Cases</button>
            <div class="output-box" id="output7"></div>

            <div class="tip-box">
                <strong>Common edge cases to test:</strong>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>Empty arrays/strings</li>
                    <li>Null or undefined</li>
                    <li>Zero</li>
                    <li>Negative numbers</li>
                    <li>Very large numbers</li>
                    <li>Special characters</li>
                    <li>Wrong data types</li>
                </ul>
            </div>
        </div>

        <!-- Strategy 8: Work Backwards -->
        <div class="strategy-section">
            <h2>Strategy 8: Work Backwards</h2>
            <p>Start from the error and trace back to find the cause!</p>

            <div class="code-block">
// Error: Cannot read property 'name' of undefined at line 25

// Line 25: What's undefined?
console.log(user.name);  // 'user' is undefined

// Where does user come from?
let user = getUser(userId);  // Check what getUser returns

// Where does userId come from?
let userId = getUserId();  // Check what getUserId returns

// Found it! getUserId returns null sometimes!
            </div>

            <button onclick="demoWorkBackwards()">Show Example</button>
            <div class="output-box" id="output8"></div>
        </div>

        <!-- Strategy 9: Compare with Working Code -->
        <div class="strategy-section">
            <h2>Strategy 9: Compare With Working Code</h2>
            <p>If you have code that works, compare it line-by-line with broken code!</p>

            <div class="code-block">
// Working code:
function addNumbers(arr) {
    let sum = 0;
    for (let i = 0; i < arr.length; i++) {
        sum += arr[i];
    }
    return sum;
}

// Broken code:
function addNumbers(arr) {
    let sum;  // BUG! Not initialized to 0
    for (let i = 0; i < arr.length; i++) {
        sum += arr[i];  // sum is undefined + number = NaN
    }
    return sum;
}
            </div>

            <p>Spot the difference: Working code initializes <span class="highlight">sum = 0</span>, broken code doesn't!</p>
        </div>

        <!-- Summary -->
        <div class="strategy-section">
            <h2>📋 Debugging Checklist</h2>
            
            <div class="step-list">
                <strong>When you encounter a bug:</strong>
                <li>✅ Read the error message carefully</li>
                <li>✅ Check the line number</li>
                <li>✅ Add console.log to track values</li>
                <li>✅ Check for typos</li>
                <li>✅ Verify your assumptions</li>
                <li>✅ Test with different inputs</li>
                <li>✅ Simplify complex code</li>
                <li>✅ Take a break if stuck (fresh perspective helps!)</li>
                <li>✅ Ask for help if needed</li>
            </div>

            <div class="tip-box">
                <strong>Remember:</strong> Debugging is a skill that improves with practice. Every bug you fix makes you a better programmer! 🚀
            </div>
        </div>
    </div>

    <script>
        console.log("🔍 Debugging Strategies Demo Loaded!");

        // Strategy 1: Console.log
        function demoConsoleLog() {
            console.log("\n=== Strategy 1: Console Logging ===");
            
            function calculateDiscount(price, discountPercent) {
                console.log("🔍 calculateDiscount called");
                console.log("  price:", price);
                console.log("  discountPercent:", discountPercent);
                
                let discountAmount = price * (discountPercent / 100);
                console.log("  discountAmount:", discountAmount);
                
                let finalPrice = price - discountAmount;
                console.log("  finalPrice:", finalPrice);
                
                return finalPrice;
            }
            
            let result = calculateDiscount(100, 20);
            
            document.getElementById("output1").innerHTML = 
                "Check console for detailed logs!<br>" +
                "Final price: $" + result + "<br>" +
                "(Original: $100, 20% off)";
        }

        // Strategy 2: Binary Search
        function demoBinarySearch() {
            console.log("\n=== Strategy 2: Binary Search (Commenting Out) ===");
            
            function step1() {
                console.log("✓ Step 1 executed");
                return "data";
            }
            
            function step2(data) {
                console.log("✓ Step 2 executed");
                return "cleaned";
            }
            
            function step3Buggy(data) {
                console.log("✗ Step 3 - This would cause an error");
                // Simulating a bug
                return undefined.property; // This would crash!
            }
            
            function step4(data) {
                console.log("✓ Step 4 executed");
                return "result";
            }
            
            try {
                let data = step1();
                let cleaned = step2(data);
                // step3Buggy(cleaned);  // Commented out - error gone!
                console.log("💡 By commenting out step3, we found the problem!");
                
                document.getElementById("output2").innerHTML = 
                    "Found the bug!<br>" +
                    "Step 3 was causing the error.<br>" +
                    "Check console for details.";
            } catch(e) {
                document.getElementById("output2").innerHTML = "Error: " + e.message;
            }
        }

        // Strategy 4: Simplify
        function demoSimplify() {
            console.log("\n=== Strategy 4: Simplify the Problem ===");
            
            // Simulate nested data
            function getData() {
                return {
                    items: [
                        { value: 42 }
                    ]
                };
            }
            
            function transform(val) { return val * 2; }
            function process(val) { return val + 10; }
            function calculate(val) { return val / 2; }
            
            // Simplified version with logging
            let data = getData();
            console.log("1. data:", data);
            
            let firstItem = data.items[0];
            console.log("2. firstItem:", firstItem);
            
            let value = firstItem.value;
            console.log("3. value:", value);
            
            let transformed = transform(value);
            console.log("4. transformed:", transformed);
            
            let processed = process(transformed);
            console.log("5. processed:", processed);
            
            let result = calculate(processed);
            console.log("6. result:", result);
            
            document.getElementById("output4").innerHTML = 
                "Each step logged!<br>" +
                "Initial value: 42<br>" +
                "Final result: " + result + "<br>" +
                "Check console for all steps.";
        }

        // Strategy 5: Check Assumptions
        function demoCheckAssumptions() {
            console.log("\n=== Strategy 5: Check Assumptions ===");
            
            function processUser(user) {
                console.log("Checking user:", user);
                console.log("typeof user:", typeof user);
                console.log("user is object?", typeof user === 'object' && user !== null);
                console.log("user has name?", user && user.name);
                
                if (user && user.name) {
                    return "Hello, " + user.name;
                } else {
                    return "Hello, Guest";
                }
            }
            
            // Test with different inputs
            console.log("\nTest 1: Valid user");
            let result1 = processUser({ name: "Alice", age: 25 });
            console.log("Result:", result1);
            
            console.log("\nTest 2: null");
            let result2 = processUser(null);
            console.log("Result:", result2);
            
            console.log("\nTest 3: undefined");
            let result3 = processUser(undefined);
            console.log("Result:", result3);
            
            console.log("\nTest 4: Empty object");
            let result4 = processUser({});
            console.log("Result:", result4);
            
            document.getElementById("output5").innerHTML = 
                "Tested with 4 different inputs!<br>" +
                "Valid user: " + result1 + "<br>" +
                "null: " + result2 + "<br>" +
                "undefined: " + result3 + "<br>" +
                "Empty object: " + result4 + "<br>" +
                "Check console for details.";
        }

        // Strategy 6: Debugger
        function demoDebugger() {
            console.log("\n=== Strategy 6: Debugger Statement ===");
            console.log("To use debugger:");
            console.log("1. Open DevTools (F12)");
            console.log("2. Go to Sources/Debugger tab");
            console.log("3. Click the button again");
            console.log("4. Code will pause at 'debugger' statement");
            
            function calculateTotal(items) {
                let total = 0;
                
                // Uncomment to pause here:
                // debugger;
                
                for (let item of items) {
                    total += item.price * item.quantity;
                }
                
                return total;
            }
            
            let items = [
                { name: "Apple", price: 2, quantity: 3 },
                { name: "Banana", price: 1, quantity: 5 }
            ];
            
            let total = calculateTotal(items);
            
            document.getElementById("output6").innerHTML = 
                "Total: $" + total + "<br>" +
                "(Debugger statement is commented out)<br>" +
                "Uncomment it in the code to try it!";
        }

        // Strategy 7: Edge Cases
        function demoEdgeCases() {
            console.log("\n=== Strategy 7: Test Edge Cases ===");
            
            function divide(a, b) {
                return a / b;
            }
            
            console.log("Normal case:");
            console.log("  divide(10, 2) =", divide(10, 2));
            
            console.log("\nEdge cases:");
            console.log("  divide(10, 0) =", divide(10, 0));
            console.log("  divide(0, 10) =", divide(0, 10));
            console.log("  divide(-10, 2) =", divide(-10, 2));
            console.log("  divide(10, -2) =", divide(10, -2));
            console.log("  divide('10', 2) =", divide("10", 2));
            console.log("  divide(10, 'x') =", divide(10, "x"));
            
            document.getElementById("output7").innerHTML = 
                "Tested 7 different cases!<br>" +
                "Normal: 10 ÷ 2 = 5<br>" +
                "Edge: 10 ÷ 0 = Infinity<br>" +
                "Edge: 10 ÷ 'x' = NaN<br>" +
                "Check console for all results.";
        }

        // Strategy 8: Work Backwards
        function demoWorkBackwards() {
            console.log("\n=== Strategy 8: Work Backwards ===");
            
            console.log("Simulating error tracking:");
            console.log("1. Error at line X: Cannot read property 'name' of undefined");
            console.log("2. Line X tries to access: user.name");
            console.log("3. 'user' comes from: getUser(userId)");
            console.log("4. 'userId' comes from: getUserId()");
            console.log("5. Found it! getUserId() returns null sometimes");
            
            console.log("\nSolution: Add null check!");
            console.log("if (userId && user) { ... }");
            
            document.getElementById("output8").innerHTML = 
                "Traced error backwards:<br>" +
                "Error → user.name<br>" +
                "→ user from getUser()<br>" +
                "→ userId from getUserId()<br>" +
                "→ getUserId() can return null!<br>" +
                "Solution: Add null checks";
        }
    </script>
</body>