<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solution: Complete Persistence System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .panel {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .panel h2 {
            color: #11998e;
            margin-bottom: 20px;
            border-bottom: 3px solid #38ef7d;
            padding-bottom: 10px;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .setting-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .setting-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
            display: block;
        }

        .setting-value {
            font-size: 24px;
            font-weight: bold;
            color: #11998e;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        button {
            padding: 14px 20px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-save {
            background: #28a745;
            color: white;
        }

        .btn-save:hover {
            background: #218838;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .btn-load {
            background: #17a2b8;
            color: white;
        }

        .btn-load:hover {
            background: #138496;
            transform: translateY(-2px);
        }

        .btn-export {
            background: #ffc107;
            color: #333;
        }

        .btn-export:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }

        .btn-import {
            background: #6f42c1;
            color: white;
        }

        .btn-import:hover {
            background: #5a32a3;
            transform: translateY(-2px);
        }

        .btn-clear {
            background: #dc3545;
            color: white;
        }

        .btn-clear:hover {
            background: #c82333;
            transform: translateY(-2px);
        }

        .btn-reset {
            background: #6c757d;
            color: white;
        }

        .btn-reset:hover {
            background: #545b62;
            transform: translateY(-2px);
        }

        input[type="file"] {
            display: none;
        }

        .file-upload-label {
            padding: 14px 20px;
            background: #6f42c1;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .file-upload-label:hover {
            background: #5a32a3;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .storage-info {
            background: #e7f3ff;
            border-left: 4px solid #17a2b8;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .storage-info h3 {
            color: #0c5460;
            margin-bottom: 12px;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #bee5eb;
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: 600;
            color: #0c5460;
        }

        .info-value {
            color: #0c5460;
        }

        .auto-save-toggle {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .auto-save-toggle label {
            font-weight: 600;
            color: #856404;
        }

        input[type="checkbox"] {
            width: 50px;
            height: 26px;
            appearance: none;
            background: #ddd;
            border-radius: 13px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s;
        }

        input[type="checkbox"]:checked {
            background: #28a745;
        }

        input[type="checkbox"]::before {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: white;
            top: 2px;
            left: 2px;
            transition: left 0.3s;
        }

        input[type="checkbox"]:checked::before {
            left: 26px;
        }

        .json-display {
            background: #1e1e1e;
            color: #4ec9b0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 20px 0;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }

        .history-panel {
            margin-top: 20px;
        }

        .history-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .history-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .history-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .history-info {
            flex: 1;
        }

        .history-date {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .history-details {
            font-size: 12px;
            color: #666;
        }

        .history-actions {
            display: flex;
            gap: 8px;
        }

        .history-btn {
            padding: 6px 12px;
            font-size: 12px;
            background: #17a2b8;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .history-btn:hover {
            background: #138496;
        }

        .history-btn.delete {
            background: #dc3545;
        }

        .history-btn.delete:hover {
            background: #c82333;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            background: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: none;
            z-index: 1000;
            min-width: 250px;
        }

        .notification.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification.success {
            border-left: 4px solid #28a745;
            color: #155724;
        }

        .notification.error {
            border-left: 4px solid #dc3545;
            color: #721c24;
        }

        .notification.info {
            border-left: 4px solid #17a2b8;
            color: #0c5460;
        }

        .test-panel {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .test-case {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #28a745;
        }

        .test-case.failed {
            border-left-color: #dc3545;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }

        .status-pass {
            background: #d4edda;
            color: #155724;
        }

        .status-fail {
            background: #f8d7da;
            color: #721c24;
        }

        .edit-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .edit-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .edit-group label {
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .edit-group input {
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        .edit-group input:focus {
            outline: none;
            border-color: #11998e;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üíæ Complete Persistence System Solution</h1>

        <div id="notification" class="notification"></div>

        <div class="panel">
            <h2>Current Settings</h2>
            
            <div class="edit-controls">
                <div class="edit-group">
                    <label>Starting Chips</label>
                    <input type="number" id="startingChips" value="1000" min="500" max="10000">
                </div>
                <div class="edit-group">
                    <label>Small Blind</label>
                    <input type="number" id="smallBlind" value="10" min="5" max="100">
                </div>
                <div class="edit-group">
                    <label>Big Blind</label>
                    <input type="number" id="bigBlind" value="20" min="10" max="200">
                </div>
                <div class="edit-group">
                    <label>Ante</label>
                    <input type="number" id="ante" value="0" min="0" max="50">
                </div>
                <div class="edit-group">
                    <label>AI Players</label>
                    <input type="number" id="aiPlayers" value="5" min="1" max="9">
                </div>
            </div>

            <div class="settings-grid" id="settingsDisplay"></div>

            <div class="auto-save-toggle">
                <label>üîÑ Auto-Save on Changes</label>
                <input type="checkbox" id="autoSave" checked>
            </div>

            <div class="button-grid">
                <button class="btn-save" onclick="saveSettings()">üíæ Save to Storage</button>
                <button class="btn-load" onclick="loadSettings()">üì• Load from Storage</button>
                <button class="btn-export" onclick="exportSettings()">üì§ Export JSON</button>
                <label for="importFile" class="file-upload-label">
                    üìÇ Import JSON
                </label>
                <input type="file" id="importFile" accept=".json" onchange="importSettings(event)">
                <button class="btn-reset" onclick="resetToDefaults()">üîÑ Reset Defaults</button>
                <button class="btn-clear" onclick="clearStorage()">üóëÔ∏è Clear Storage</button>
            </div>

            <div class="storage-info">
                <h3>üìä Storage Information</h3>
                <div id="storageInfo"></div>
            </div>

            <div class="json-display" id="jsonDisplay"></div>
        </div>

        <div class="panel">
            <div class="history-panel">
                <h2>üìú Settings History (Last 5)</h2>
                <div class="history-list" id="historyList"></div>
            </div>
        </div>

        <div class="test-panel">
            <h2 style="color: #11998e; margin-bottom: 20px;">Test Cases</h2>
            <div id="testResults"></div>
        </div>
    </div>

    <script>
        const STORAGE_KEY = 'pokerGameSettings';
        const TIMESTAMP_KEY = 'pokerGameSettings_timestamp';
        const HISTORY_KEY = 'pokerGameSettings_history';
        const MAX_HISTORY = 5;

        let currentSettings = {
            startingChips: 1000,
            smallBlind: 10,
            bigBlind: 20,
            ante: 0,
            aiPlayers: 5,
            gameSpeed: 1.0,
            soundEffects: true,
            animations: true,
            autoMuck: false,
            showPotOdds: true
        };

        let autoSaveEnabled = true;

        /**
         * Display current settings
         */
        function displaySettings() {
            const container = document.getElementById('settingsDisplay');
            container.innerHTML = `
                <div class="setting-item">
                    <span class="setting-label">Starting Chips</span>
                    <div class="setting-value">${currentSettings.startingChips}</div>
                </div>
                <div class="setting-item">
                    <span class="setting-label">Small Blind</span>
                    <div class="setting-value">${currentSettings.smallBlind}</div>
                </div>
                <div class="setting-item">
                    <span class="setting-label">Big Blind</span>
                    <div class="setting-value">${currentSettings.bigBlind}</div>
                </div>
                <div class="setting-item">
                    <span class="setting-label">Ante</span>
                    <div class="setting-value">${currentSettings.ante}</div>
                </div>
                <div class="setting-item">
                    <span class="setting-label">AI Players</span>
                    <div class="setting-value">${currentSettings.aiPlayers}</div>
                </div>
                <div class="setting-item">
                    <span class="setting-label">Game Speed</span>
                    <div class="setting-value">${currentSettings.gameSpeed}x</div>
                </div>
            `;

            updateJsonDisplay();
            updateStorageInfo();
        }

        /**
         * Update JSON display
         */
        function updateJsonDisplay() {
            const display = document.getElementById('jsonDisplay');
            display.textContent = JSON.stringify(currentSettings, null, 2);
        }

        /**
         * Update storage information
         */
        function updateStorageInfo() {
            const container = document.getElementById('storageInfo');
            const saved = localStorage.getItem(STORAGE_KEY);
            const timestamp = localStorage.getItem(TIMESTAMP_KEY);

            let html = '';

            if (saved) {
                html += `
                    <div class="info-item">
                        <span class="info-label">Status:</span>
                        <span class="info-value">‚úÖ Saved</span>
                    </div>
                `;

                if (timestamp) {
                    const date = new Date(timestamp);
                    html += `
                        <div class="info-item">
                            <span class="info-label">Last Saved:</span>
                            <span class="info-value">${date.toLocaleString()}</span>
                        </div>
                    `;
                }

                const size = new Blob([saved]).size;
                html += `
                    <div class="info-item">
                        <span class="info-label">Data Size:</span>
                        <span class="info-value">${size} bytes</span>
                    </div>
                `;
            } else {
                html += `
                    <div class="info-item">
                        <span class="info-label">Status:</span>
                        <span class="info-value">‚ö†Ô∏è Not Saved</span>
                    </div>
                `;
            }

            // Storage usage
            let totalSize = 0;
            for (let key in localStorage) {
                if (localStorage.hasOwnProperty(key)) {
                    totalSize += localStorage[key].length + key.length;
                }
            }

            html += `
                <div class="info-item">
                    <span class="info-label">Total Storage:</span>
                    <span class="info-value">${totalSize} bytes</span>
                </div>
            `;

            container.innerHTML = html;
        }

        /**
         * Show notification
         */
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;

            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        /**
         * Save settings to localStorage
         */
        function saveSettings() {
            try {
                // Update current settings from inputs
                updateCurrentSettings();

                // Save to localStorage
                localStorage.setItem(STORAGE_KEY, JSON.stringify(currentSettings));
                localStorage.setItem(TIMESTAMP_KEY, new Date().toISOString());

                // Add to history
                addToHistory(currentSettings);

                displaySettings();
                displayHistory();
                showNotification('‚úÖ Settings saved successfully!', 'success');
            } catch (error) {
                showNotification('‚ùå Error saving settings: ' + error.message, 'error');
            }
        }

        /**
         * Load settings from localStorage
         */
        function loadSettings() {
            try {
                const saved = localStorage.getItem(STORAGE_KEY);
                if (saved) {
                    currentSettings = JSON.parse(saved);
                    syncInputsWithSettings();
                    displaySettings();
                    showNotification('‚úÖ Settings loaded successfully!', 'success');
                } else {
                    showNotification('‚ö†Ô∏è No saved settings found', 'info');
                }
            } catch (error) {
                showNotification('‚ùå Error loading settings: ' + error.message, 'error');
            }
        }

        /**
         * Export settings as JSON file
         */
        function exportSettings() {
            try {
                updateCurrentSettings();
                const dataStr = JSON.stringify(currentSettings, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                
                const link = document.createElement('a');
                link.href = url;
                link.download = `poker-settings-${new Date().getTime()}.json`;
                link.click();
                
                URL.revokeObjectURL(url);
                showNotification('‚úÖ Settings exported successfully!', 'success');
            } catch (error) {
                showNotification('‚ùå Error exporting settings: ' + error.message, 'error');
            }
        }

        /**
         * Import settings from JSON file
         */
        function importSettings(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const imported = JSON.parse(e.target.result);
                    
                    // Validate imported data
                    if (imported.startingChips && imported.smallBlind && imported.bigBlind) {
                        currentSettings = imported;
                        syncInputsWithSettings();
                        displaySettings();
                        
                        if (autoSaveEnabled) {
                            saveSettings();
                        }
                        
                        showNotification('‚úÖ Settings imported successfully!', 'success');
                    } else {
                        showNotification('‚ùå Invalid settings file format', 'error');
                    }
                } catch (error) {
                    showNotification('‚ùå Error importing settings: ' + error.message, 'error');
                }
            };
            reader.readAsText(file);
        }

        /**
         * Clear all saved settings
         */
        function clearStorage() {
            if (confirm('Are you sure you want to clear all saved settings and history?')) {
                localStorage.removeItem(STORAGE_KEY);
                localStorage.removeItem(TIMESTAMP_KEY);
                localStorage.removeItem(HISTORY_KEY);
                
                displaySettings();
                displayHistory();
                showNotification('üóëÔ∏è Storage cleared successfully!', 'info');
            }
        }

        /**
         * Reset to factory defaults
         */
        function resetToDefaults() {
            currentSettings = {
                startingChips: 1000,
                smallBlind: 10,
                bigBlind: 20,
                ante: 0,
                aiPlayers: 5,
                gameSpeed: 1.0,
                soundEffects: true,
                animations: true,
                autoMuck: false,
                showPotOdds: true
            };

            syncInputsWithSettings();
            displaySettings();
            showNotification('üîÑ Settings reset to defaults', 'success');
        }

        /**
         * Add settings to history
         */
        function addToHistory(settings) {
            try {
                let history = JSON.parse(localStorage.getItem(HISTORY_KEY) || '[]');
                
                history.unshift({
                    settings: {...settings},
                    timestamp: new Date().toISOString()
                });

                // Keep only last MAX_HISTORY entries
                history = history.slice(0, MAX_HISTORY);

                localStorage.setItem(HISTORY_KEY, JSON.stringify(history));
            } catch (error) {
                console.error('Error adding to history:', error);
            }
        }

        /**
         * Display settings history
         */
        function displayHistory() {
            const container = document.getElementById('historyList');
            const history = JSON.parse(localStorage.getItem(HISTORY_KEY) || '[]');

            if (history.length === 0) {
                container.innerHTML = '<p style="color: #666; text-align: center; padding: 20px;">No history available</p>';
                return;
            }

            let html = '';
            history.forEach((entry, index) => {
                const date = new Date(entry.timestamp);
                const s = entry.settings;

                html += `
                    <div class="history-item">
                        <div class="history-info">
                            <div class="history-date">${date.toLocaleString()}</div>
                            <div class="history-details">
                                Chips: ${s.startingChips} | Blinds: ${s.smallBlind}/${s.bigBlind} | 
                                Ante: ${s.ante} | AI: ${s.aiPlayers}
                            </div>
                        </div>
                        <div class="history-actions">
                            <button class="history-btn" onclick="loadHistoryEntry(${index})">Load</button>
                            <button class="history-btn delete" onclick="deleteHistoryEntry(${index})">Delete</button>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        /**
         * Load a history entry
         */
        function loadHistoryEntry(index) {
            try {
                const history = JSON.parse(localStorage.getItem(HISTORY_KEY) || '[]');
                if (history[index]) {
                    currentSettings = {...history[index].settings};
                    syncInputsWithSettings();
                    displaySettings();
                    showNotification('‚úÖ Settings loaded from history', 'success');
                }
            } catch (error) {
                showNotification('‚ùå Error loading history entry', 'error');
            }
        }

        /**
         * Delete a history entry
         */
        function deleteHistoryEntry(index) {
            try {
                let history = JSON.parse(localStorage.getItem(HISTORY_KEY) || '[]');
                history.splice(index, 1);
                localStorage.setItem(HISTORY_KEY, JSON.stringify(history));
                displayHistory();
                showNotification('üóëÔ∏è History entry deleted', 'info');
            } catch (error) {
                showNotification('‚ùå Error deleting history entry', 'error');
            }
        }

        /**
         * Update current settings from input fields
         */
        function updateCurrentSettings() {
            currentSettings.startingChips = parseInt(document.getElementById('startingChips').value);
            currentSettings.smallBlind = parseInt(document.getElementById('smallBlind').value);
            currentSettings.bigBlind = parseInt(document.getElementById('bigBlind').value);
            currentSettings.ante = parseInt(document.getElementById('ante').value);
            currentSettings.aiPlayers = parseInt(document.getElementById('aiPlayers').value);
        }

        /**
         * Sync input fields with current settings
         */
        function syncInputsWithSettings() {
            document.getElementById('startingChips').value = currentSettings.startingChips;
            document.getElementById('smallBlind').value = currentSettings.smallBlind;
            document.getElementById('bigBlind').value = currentSettings.bigBlind;
            document.getElementById('ante').value = currentSettings.ante;
            document.getElementById('aiPlayers').value = currentSettings.aiPlayers;
        }

        /**
         * Auto-save functionality
         */
        function handleInputChange() {
            updateCurrentSettings();
            displaySettings();

            if (autoSaveEnabled) {
                saveSettings();
            }
        }

        /**
         * Run test cases
         */
        function runTests() {
            const results = [];

            // Test 1: Auto-save on changes
            const originalValue = currentSettings.startingChips;
            document.getElementById('startingChips').value = 3000;
            handleInputChange();
            const savedData = localStorage.getItem(STORAGE_KEY);
            const parsed = JSON.parse(savedData);
            results.push({
                name: 'Auto-Save on Changes',
                passed: parsed.startingChips === 3000,
                details: `Settings auto-saved with ${parsed.startingChips} chips`
            });

            // Test 2: Export/Import JSON
            const exportData = JSON.stringify(currentSettings);
            const isValidJSON = (() => {
                try {
                    JSON.parse(exportData);
                    return true;
                } catch {
                    return false;
                }
            })();
            results.push({
                name: 'Export/Import JSON',
                passed: isValidJSON && exportData.includes('startingChips'),
                details: 'Settings can be exported and imported as valid JSON'
            });

            // Test 3: Settings history
            saveSettings();
            const history = JSON.parse(localStorage.getItem(HISTORY_KEY) || '[]');
            results.push({
                name: 'Settings History',
                passed: history.length > 0,
                details: `History contains ${history.length} entries`
            });

            // Test 4: Load from history
            if (history.length > 0) {
                const historyChips = history[0].settings.startingChips;
                loadHistoryEntry(0);
                results.push({
                    name: 'Load from History',
                    passed: currentSettings.startingChips === historyChips,
                    details: 'Successfully loaded settings from history'
                });
            }

            // Test 5: Clear storage
            const beforeClear = localStorage.getItem(STORAGE_KEY);
            clearStorage();
            const afterClear = localStorage.getItem(STORAGE_KEY);
            results.push({
                name: 'Clear Storage',
                passed: beforeClear !== null && afterClear === null,
                details: 'Storage cleared successfully (confirmed in test)'
            });

            // Test 6: Reset to defaults
            resetToDefaults();
            results.push({
                name: 'Reset to Defaults',
                passed: currentSettings.startingChips === 1000 && currentSettings.smallBlind === 10,
                details: 'Settings reset to factory defaults'
            });

            displayTestResults(results);

            // Restore auto-save
            saveSettings();
        }

        /**
         * Display test results
         */
        function displayTestResults(results) {
            const container = document.getElementById('testResults');
            let html = '';

            results.forEach((result, index) => {
                const statusClass = result.passed ? 'status-pass' : 'status-fail';
                const statusText = result.passed ? 'PASS' : 'FAIL';
                const caseClass = result.passed ? '' : 'failed';

                html += `
                    <div class="test-case ${caseClass}">
                        <h3>
                            Test ${index + 1}: ${result.name}
                            <span class="status-badge ${statusClass}">${statusText}</span>
                        </h3>
                        <p>${result.details}</p>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // Event listeners
        document.getElementById('autoSave').addEventListener('change', function() {
            autoSaveEnabled = this.checked;
            showNotification(
                autoSaveEnabled ? '‚úÖ Auto-save enabled' : '‚ö†Ô∏è Auto-save disabled',
                'info'
            );
        });

        ['startingChips', 'smallBlind', 'bigBlind', 'ante', 'aiPlayers'].forEach(id => {
            document.getElementById(id).addEventListener('change', handleInputChange);
        });

        // Initialize
        window.onload = function() {
            // Try to load saved settings
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                currentSettings = JSON.parse(saved);
                syncInputsWithSettings();
            }

            displaySettings();
            displayHistory();
            runTests();
        };
    </script>
</body>
</html>
