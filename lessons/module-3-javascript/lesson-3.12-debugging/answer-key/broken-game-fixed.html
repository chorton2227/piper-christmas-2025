<!DOCTYPE html>
<html>
<head>
    <title>Clicker Game - Fixed Version</title>
    <style>
        body {
            font-family: Arial;
            text-align: center;
            padding: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .game-container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        button {
            padding: 20px 40px;
            font-size: 20px;
            margin: 10px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        #clickBtn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 24px;
            padding: 30px 60px;
        }
        
        #score {
            font-size: 48px;
            margin: 20px;
            color: #667eea;
            font-weight: bold;
        }
        
        .upgrade {
            padding: 15px 30px;
            margin: 5px;
            background: #28a745;
            color: white;
        }
        
        .upgrade:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        #status {
            margin-top: 20px;
            font-size: 18px;
            color: #666;
            min-height: 30px;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
        }
        
        .stat-label {
            color: #666;
            font-size: 14px;
        }
        
        .stat-value {
            font-size: 24px;
            color: #667eea;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ðŸŽ® Clicker Game</h1>
        <p>Click to earn points and buy upgrades!</p>
        
        <div id="score">Score: 0</div>
        
        <button id="clickBtn">Click Me!</button>
        
        <div>
            <h2>Upgrades</h2>
            <button class="upgrade" id="multiplierBtn" onclick="buyMultiplier()">
                2x Multiplier (Cost: 50)
            </button>
            <button class="upgrade" id="autoClickerBtn" onclick="buyAutoClicker()">
                Auto Clicker (Cost: 100)
            </button>
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Click Value</div>
                <div class="stat-value" id="clickValueDisplay">1</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Multiplier</div>
                <div class="stat-value" id="multiplierDisplay">1x</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Total Clicks</div>
                <div class="stat-value" id="totalClicksDisplay">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Auto Clicker</div>
                <div class="stat-value" id="autoClickerDisplay">Off</div>
            </div>
        </div>
        
        <div id="status"></div>
    </div>

    <script>
        /* 
         * ALL BUGS FIXED!
         * This is the complete working version of the clicker game.
         * Comments show what was fixed.
         */
        
        // FIX #1: Initialize score to 0 (was undefined)
        let score = 0;
        let clickValue = 1;
        let multiplier = 1;
        let autoClickerActive = false;
        let autoClickerInterval = null; // FIX #13: Track interval to prevent multiples
        let totalClicks = 0; // Track total clicks
        
        // FIX #2: Fixed typo "functoin" -> "function"
        function updateDisplay() {
            document.getElementById("score").textContent = "Score: " + score;
            document.getElementById("clickValueDisplay").textContent = clickValue * multiplier;
            document.getElementById("multiplierDisplay").textContent = multiplier + "x";
            document.getElementById("totalClicksDisplay").textContent = totalClicks;
            document.getElementById("autoClickerDisplay").textContent = autoClickerActive ? "On" : "Off";
            
            // Update button states
            updateButtonStates();
        }
        
        function updateButtonStates() {
            // Enable/disable buttons based on score
            document.getElementById("multiplierBtn").disabled = score < 50;
            document.getElementById("autoClickerBtn").disabled = score < 100 || autoClickerActive;
        }
        
        // FIX #3: Added parentheses () to function declaration
        // FIX #4: Changed = to += to add instead of replace
        function handleClick() {
            score += clickValue * multiplier; // Was: score = clickValue * multiplier
            totalClicks++;
            updateDisplay();
        }
        
        // FIX #5: Changed = to >= for proper comparison
        function buyMultiplier() {
            if (score >= 50) { // Was: if (score = 50)
                score -= 50;
                // FIX #6: Assign result back to multiplier
                multiplier *= 2; // Was: multiplier * 2;
                showStatus("Multiplier purchased! Now " + multiplier + "x");
                updateDisplay();
            } else {
                showStatus("Not enough score! Need 50 points.");
            }
        }
        
        function buyAutoClicker() {
            if (score >= 100) {
                // FIX #13: Check if already active to prevent multiple intervals
                if (autoClickerActive) {
                    showStatus("Auto clicker already active!");
                    return;
                }
                
                score -= 100;
                autoClickerActive = true;
                // FIX #7: Changed interval from 1ms to 1000ms (1 second)
                autoClickerInterval = setInterval(autoClick, 1000); // Was: setInterval(autoClick, 1)
                showStatus("Auto clicker activated!");
                updateDisplay();
            } else {
                showStatus("Not enough score! Need 100 points.");
            }
        }
        
        // FIX #8: Call handleClick() with parentheses
        function autoClick() {
            handleClick(); // Was: handleClick; (without parentheses)
        }
        
        // FIX #9: Added message parameter
        // FIX #10: Use the parameter instead of undefined variable
        function showStatus(message) { // Was: function showStatus()
            let statusDiv = document.getElementById("status");
            statusDiv.textContent = message; // Was: statusDiv.textContent = message; (message was undefined)
            // FIX #11: Already has setTimeout to clear - this was actually fine, but improved
            setTimeout(function() {
                statusDiv.textContent = "";
            }, 2000);
        }
        
        // FIX #12: Don't call handleClick(), just pass the reference
        // Was: addEventListener("click", handleClick()) - this called it immediately
        document.getElementById("clickBtn").addEventListener("click", handleClick);
        
        // FIX #13: Call updateDisplay() on page load with parentheses
        updateDisplay(); // Was: updateDisplay; (without parentheses)
        
        /* 
         * SUMMARY OF ALL BUGS FIXED:
         * 
         * SYNTAX ERRORS (3):
         * 1. Line ~8: "functoin" -> "function"
         * 2. Line ~14: Added () to function handleClick
         * 3. Line ~70: addEventListener shouldn't call function immediately
         * 
         * LOGIC ERRORS (6):
         * 4. Line ~7: score = 0 (was undefined)
         * 5. Line ~16: score += (was score =, replaced instead of adding)
         * 6. Line ~23: score >= 50 (was score = 50, assignment instead of comparison)
         * 7. Line ~26: multiplier *= 2 (was multiplier * 2, result not assigned)
         * 8. Line ~73: updateDisplay() called (was updateDisplay without parentheses)
         * 9. Line ~39: handleClick() called with () (was handleClick without parentheses)
         * 10. Line ~37: setInterval 1000ms (was 1ms, way too fast, caused lag)
         * 
         * RUNTIME ERRORS (3):
         * 11. Line ~44: showStatus(message) - added parameter
         * 12. Line ~46: Using message parameter (was undefined variable)
         * 13. Line ~33: Check autoClickerActive to prevent multiple intervals
         * 
         * BONUS IMPROVEMENTS:
         * - Added visual stats display
         * - Added button enable/disable logic
         * - Tracking total clicks
         * - Better UI styling
         * - More descriptive status messages
         */
    </script>
</body>
</html>