<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Collector Adventure</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(to bottom, #87CEEB 0%, #98FB98 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container { max-width: 1200px; margin: 0 auto; }
        
        h1 {
            text-align: center;
            color: #ff6b81;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            font-size: 42px;
        }
        
        .stats-bar {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }
        
        .stat { text-align: center; padding: 10px; }
        .stat-label { font-size: 14px; color: #666; }
        .stat-value { font-size: 24px; font-weight: bold; color: #ff6b81; }
        
        .main-area {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .explore-area {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .wild-pet {
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            color: white;
            margin: 20px 0;
        }
        
        .wild-pet-icon { font-size: 80px; margin: 20px 0; }
        .wild-pet-name { font-size: 32px; font-weight: bold; }
        .wild-pet-stats { margin: 15px 0; font-size: 18px; }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-catch { background: #00b894; color: white; }
        .btn-catch:hover { background: #00d9a5; transform: translateY(-2px); }
        .btn-run { background: #ff7675; color: white; }
        .btn-run:hover { background: #ff948a; transform: translateY(-2px); }
        
        .team-panel {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .team-panel h2 { color: #ff6b81; margin-bottom: 15px; }
        
        .pet-list { display: flex; flex-direction: column; gap: 10px; }
        
        .pet-card {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .pet-card:hover { transform: translateX(5px); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        
        .pet-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .pet-card-icon { font-size: 32px; }
        .pet-card-info { flex: 1; }
        .pet-card-name { font-weight: bold; font-size: 16px; }
        .pet-card-level { font-size: 14px; color: #666; }
        
        .pet-card-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 5px;
            font-size: 12px;
        }
        
        .battle-area {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .battle-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .battle-pet {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            color: white;
        }
        
        .battle-pet-icon { font-size: 64px; }
        .health-bar {
            width: 100%;
            height: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .health-fill {
            height: 100%;
            background: #00b894;
            transition: width 0.3s;
        }
        
        .battle-log {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
            margin: 15px 0;
        }
        
        .battle-message {
            padding: 5px;
            margin: 3px 0;
            border-radius: 4px;
        }
        
        .battle-message.player { background: #d4edda; }
        .battle-message.enemy { background: #f8d7da; }
        
        .collection {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .collection h2 { color: #ff6b81; margin-bottom: 15px; }
        
        .pet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .collection-pet {
            background: linear-gradient(135deg, #dfe6e9 0%, #b2bec3 100%);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .collection-pet.owned {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            cursor: pointer;
        }
        
        .collection-pet.owned:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }
        
        .collection-icon { font-size: 48px; filter: grayscale(100%); }
        .collection-pet.owned .collection-icon { filter: none; }
        
        .messages {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 300px;
        }
        
        .message {
            padding: 15px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            animation: slideIn 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .message.success { background: #00b894; }
        .message.error { background: #d63031; }
        .message.info { background: #0984e3; }
        
        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #ff6b81 0%, #ee5a6f 100%);
            color: white;
            padding: 12px 24px;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(255,107,129,0.4);
        }
        
        @media (max-width: 768px) {
            .main-area, .battle-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div id="messages" class="messages"></div>
    
    <div class="container">
        <h1>üêæ Pet Collector Adventure üêæ</h1>
        
        <div class="stats-bar">
            <div class="stat">
                <div class="stat-label">üí∞ Gold</div>
                <div class="stat-value" id="gold">100</div>
            </div>
            <div class="stat">
                <div class="stat-label">üéí Team Size</div>
                <div class="stat-value"><span id="team-size">0</span>/6</div>
            </div>
            <div class="stat">
                <div class="stat-label">üìö Collection</div>
                <div class="stat-value"><span id="collection-count">0</span>/12</div>
            </div>
            <div class="stat">
                <div class="stat-label">üèÜ Wins</div>
                <div class="stat-value" id="wins">0</div>
            </div>
        </div>
        
        <div id="explore-view" class="main-area">
            <div class="explore-area">
                <h2 style="color: #ff6b81; margin-bottom: 15px;">üå≥ Wild Encounter</h2>
                <div id="wild-pet-display"></div>
            </div>
            
            <div class="team-panel">
                <h2>üë• Your Team (<span id="team-count">0</span>/6)</h2>
                <div class="pet-list" id="team-list"></div>
            </div>
        </div>
        
        <div id="battle-view" class="battle-area" style="display: none;">
            <h2 style="color: #ff6b81; margin-bottom: 15px;">‚öîÔ∏è Battle!</h2>
            <div class="battle-grid">
                <div class="battle-pet" id="player-battle-pet"></div>
                <div class="battle-pet" id="enemy-battle-pet"></div>
            </div>
            <div class="battle-log" id="battle-log"></div>
            <div class="action-buttons" id="battle-actions"></div>
        </div>
        
        <div class="collection">
            <h2>üìñ Pet Collection</h2>
            <div class="pet-grid" id="collection"></div>
        </div>
        
        <div class="controls">
            <button class="btn-primary" onclick="game.findWildPet()">üîç Find Pet</button>
            <button class="btn-primary" onclick="game.saveGame()">üíæ Save</button>
            <button class="btn-primary" onclick="game.loadGame()">üìÇ Load</button>
            <button class="btn-primary" onclick="game.resetGame()">üîÑ Reset</button>
        </div>
    </div>
    
    <script>
        const PET_TYPES = {
            dog: { id: 'dog', name: 'Dog', icon: 'üêï', baseHP: 50, baseATK: 10, rarity: 'common' },
            cat: { id: 'cat', name: 'Cat', icon: 'üêà', baseHP: 40, baseATK: 12, rarity: 'common' },
            bird: { id: 'bird', name: 'Bird', icon: 'üê¶', baseHP: 35, baseATK: 15, rarity: 'common' },
            rabbit: { id: 'rabbit', name: 'Rabbit', icon: 'üê∞', baseHP: 45, baseATK: 8, rarity: 'common' },
            turtle: { id: 'turtle', name: 'Turtle', icon: 'üê¢', baseHP: 60, baseATK: 7, rarity: 'uncommon' },
            fox: { id: 'fox', name: 'Fox', icon: 'ü¶ä', baseHP: 55, baseATK: 13, rarity: 'uncommon' },
            panda: { id: 'panda', name: 'Panda', icon: 'üêº', baseHP: 65, baseATK: 12, rarity: 'uncommon' },
            tiger: { id: 'tiger', name: 'Tiger', icon: 'üêØ', baseHP: 70, baseATK: 18, rarity: 'rare' },
            dragon: { id: 'dragon', name: 'Dragon', icon: 'üêâ', baseHP: 100, baseATK: 25, rarity: 'legendary' },
            unicorn: { id: 'unicorn', name: 'Unicorn', icon: 'ü¶Ñ', baseHP: 90, baseATK: 22, rarity: 'legendary' },
            phoenix: { id: 'phoenix', name: 'Phoenix', icon: 'ü¶Ö', baseHP: 85, baseATK: 28, rarity: 'legendary' },
            lion: { id: 'lion', name: 'Lion', icon: 'ü¶Å', baseHP: 75, baseATK: 20, rarity: 'rare' }
        };
        
        const game = {
            gold: 100,
            team: [],
            collection: {},
            wins: 0,
            wildPet: null,
            inBattle: false,
            playerBattlePet: null,
            enemyBattlePet: null,
            
            init() {
                this.updateUI();
                this.renderCollection();
                this.findWildPet();
                
                if (localStorage.getItem('petGame')) {
                    this.showMessage('Saved game found! Click Load.', 'info');
                }
            },
            
            updateUI() {
                document.getElementById('gold').textContent = this.gold;
                document.getElementById('team-size').textContent = this.team.length;
                document.getElementById('team-count').textContent = this.team.length;
                
                const collected = Object.keys(this.collection).length;
                const total = Object.keys(PET_TYPES).length;
                document.getElementById('collection-count').textContent = `${collected}/${total}`;
                
                document.getElementById('wins').textContent = this.wins;
                
                this.renderTeam();
            },
            
            findWildPet() {
                if (this.inBattle) return;
                
                const roll = Math.random();
                let petId;
                
                if (roll < 0.5) {
                    const commons = Object.keys(PET_TYPES).filter(k => PET_TYPES[k].rarity === 'common');
                    petId = commons[Math.floor(Math.random() * commons.length)];
                } else if (roll < 0.85) {
                    const uncommons = Object.keys(PET_TYPES).filter(k => PET_TYPES[k].rarity === 'uncommon');
                    petId = uncommons[Math.floor(Math.random() * uncommons.length)];
                } else if (roll < 0.97) {
                    const rares = Object.keys(PET_TYPES).filter(k => PET_TYPES[k].rarity === 'rare');
                    petId = rares[Math.floor(Math.random() * rares.length)];
                } else {
                    const legendaries = Object.keys(PET_TYPES).filter(k => PET_TYPES[k].rarity === 'legendary');
                    petId = legendaries[Math.floor(Math.random() * legendaries.length)];
                }
                
                this.wildPet = this.createPet(petId, Math.floor(Math.random() * 3) + 1);
                this.renderWildPet();
            },
            
            createPet(typeId, level) {
                const type = PET_TYPES[typeId];
                return {
                    typeId: typeId,
                    name: type.name,
                    icon: type.icon,
                    level: level,
                    maxHP: type.baseHP + (level - 1) * 10,
                    hp: type.baseHP + (level - 1) * 10,
                    attack: type.baseATK + (level - 1) * 2,
                    xp: 0,
                    xpToLevel: level * 100
                };
            },
            
            renderWildPet() {
                const container = document.getElementById('wild-pet-display');
                
                if (!this.wildPet) {
                    container.innerHTML = '<p>Click "Find Pet" to encounter a wild pet!</p>';
                    return;
                }
                
                const pet = this.wildPet;
                container.innerHTML = `
                    <div class="wild-pet">
                        <div class="wild-pet-icon">${pet.icon}</div>
                        <div class="wild-pet-name">${pet.name}</div>
                        <div class="wild-pet-stats">
                            Level ${pet.level} | ‚ù§Ô∏è ${pet.hp} | ‚öîÔ∏è ${pet.attack}
                        </div>
                        <div class="action-buttons">
                            <button class="btn-catch" onclick="game.tryCatch()">üéØ Catch</button>
                            <button class="btn-run" onclick="game.findWildPet()">üèÉ Run</button>
                            ${this.team.length > 0 ? '<button class="btn-primary" onclick="game.startBattle()">‚öîÔ∏è Battle</button>' : ''}
                        </div>
                    </div>
                `;
            },
            
            tryCatch() {
                if (!this.wildPet) return;
                
                const catchRate = 0.5 - (this.wildPet.level * 0.05);
                const success = Math.random() < catchRate;
                
                if (success) {
                    if (this.team.length >= 6) {
                        this.showMessage('Team is full!', 'error');
                        return;
                    }
                    
                    this.team.push(this.wildPet);
                    this.collection[this.wildPet.typeId] = true;
                    this.showMessage(`Caught ${this.wildPet.name}!`, 'success');
                    this.wildPet = null;
                    this.findWildPet();
                } else {
                    this.showMessage('Catch failed!', 'error');
                }
                
                this.updateUI();
                this.renderCollection();
            },
            
            startBattle() {
                if (this.team.length === 0) {
                    this.showMessage('No pets in team!', 'error');
                    return;
                }
                
                this.inBattle = true;
                this.playerBattlePet = JSON.parse(JSON.stringify(this.team[0]));
                this.enemyBattlePet = JSON.parse(JSON.stringify(this.wildPet));
                
                document.getElementById('explore-view').style.display = 'none';
                document.getElementById('battle-view').style.display = 'block';
                
                this.renderBattle();
                this.addBattleMessage(`${this.playerBattlePet.name} vs ${this.enemyBattlePet.name}!`, 'info');
            },
            
            renderBattle() {
                const playerDiv = document.getElementById('player-battle-pet');
                const enemyDiv = document.getElementById('enemy-battle-pet');
                
                const playerHPPct = (this.playerBattlePet.hp / this.playerBattlePet.maxHP) * 100;
                const enemyHPPct = (this.enemyBattlePet.hp / this.enemyBattlePet.maxHP) * 100;
                
                playerDiv.innerHTML = `
                    <div class="battle-pet-icon">${this.playerBattlePet.icon}</div>
                    <h3>${this.playerBattlePet.name} Lv${this.playerBattlePet.level}</h3>
                    <div class="health-bar">
                        <div class="health-fill" style="width: ${playerHPPct}%"></div>
                    </div>
                    <p>${this.playerBattlePet.hp}/${this.playerBattlePet.maxHP} HP</p>
                `;
                
                enemyDiv.innerHTML = `
                    <div class="battle-pet-icon">${this.enemyBattlePet.icon}</div>
                    <h3>${this.enemyBattlePet.name} Lv${this.enemyBattlePet.level}</h3>
                    <div class="health-bar">
                        <div class="health-fill" style="width: ${enemyHPPct}%"></div>
                    </div>
                    <p>${this.enemyBattlePet.hp}/${this.enemyBattlePet.maxHP} HP</p>
                `;
                
                const actionsDiv = document.getElementById('battle-actions');
                actionsDiv.innerHTML = `
                    <button class="btn-catch" onclick="game.battleAttack()">‚öîÔ∏è Attack</button>
                    <button class="btn-run" onclick="game.battleRun()">üèÉ Run</button>
                `;
            },
            
            battleAttack() {
                const damage = Math.floor(Math.random() * 10) + this.playerBattlePet.attack;
                this.enemyBattlePet.hp = Math.max(0, this.enemyBattlePet.hp - damage);
                this.addBattleMessage(`${this.playerBattlePet.name} deals ${damage} damage!`, 'player');
                
                if (this.enemyBattlePet.hp <= 0) {
                    this.battleWin();
                    return;
                }
                
                setTimeout(() => this.enemyAttack(), 1000);
            },
            
            enemyAttack() {
                const damage = Math.floor(Math.random() * 8) + this.enemyBattlePet.attack;
                this.playerBattlePet.hp = Math.max(0, this.playerBattlePet.hp - damage);
                this.addBattleMessage(`${this.enemyBattlePet.name} deals ${damage} damage!`, 'enemy');
                
                this.renderBattle();
                
                if (this.playerBattlePet.hp <= 0) {
                    this.battleLose();
                }
            },
            
            battleWin() {
                const goldReward = this.enemyBattlePet.level * 20;
                const xpReward = this.enemyBattlePet.level * 50;
                
                this.gold += goldReward;
                this.wins++;
                
                this.team[0].xp += xpReward;
                while (this.team[0].xp >= this.team[0].xpToLevel) {
                    this.team[0].xp -= this.team[0].xpToLevel;
                    this.team[0].level++;
                    this.team[0].maxHP += 10;
                    this.team[0].hp = this.team[0].maxHP;
                    this.team[0].attack += 2;
                    this.team[0].xpToLevel = this.team[0].level * 100;
                    this.showMessage(`${this.team[0].name} leveled up!`, 'success');
                }
                
                this.addBattleMessage(`Victory! +${goldReward} gold, +${xpReward} XP`, 'player');
                
                setTimeout(() => this.endBattle(), 2000);
            },
            
            battleLose() {
                this.team[0].hp = Math.floor(this.team[0].maxHP * 0.5);
                this.addBattleMessage('Defeated!', 'enemy');
                setTimeout(() => this.endBattle(), 2000);
            },
            
            battleRun() {
                this.addBattleMessage('Ran away!', 'info');
                setTimeout(() => this.endBattle(), 1000);
            },
            
            endBattle() {
                this.inBattle = false;
                document.getElementById('battle-view').style.display = 'none';
                document.getElementById('explore-view').style.display = 'grid';
                document.getElementById('battle-log').innerHTML = '';
                this.findWildPet();
                this.updateUI();
            },
            
            addBattleMessage(text, type) {
                const log = document.getElementById('battle-log');
                const msg = document.createElement('div');
                msg.className = `battle-message ${type}`;
                msg.textContent = text;
                log.appendChild(msg);
                log.scrollTop = log.scrollHeight;
            },
            
            renderTeam() {
                const container = document.getElementById('team-list');
                
                if (this.team.length === 0) {
                    container.innerHTML = '<p style="text-align: center; color: #aaa;">No pets yet!</p>';
                    return;
                }
                
                container.innerHTML = '';
                
                this.team.forEach((pet, index) => {
                    const div = document.createElement('div');
                    div.className = 'pet-card';
                    div.innerHTML = `
                        <div class="pet-card-header">
                            <div class="pet-card-icon">${pet.icon}</div>
                            <div class="pet-card-info">
                                <div class="pet-card-name">${pet.name}</div>
                                <div class="pet-card-level">Level ${pet.level}</div>
                            </div>
                        </div>
                        <div class="pet-card-stats">
                            <div>‚ù§Ô∏è ${pet.hp}/${pet.maxHP}</div>
                            <div>‚öîÔ∏è ${pet.attack}</div>
                            <div>‚≠ê ${pet.xp}/${pet.xpToLevel}</div>
                        </div>
                    `;
                    container.appendChild(div);
                });
            },
            
            renderCollection() {
                const container = document.getElementById('collection');
                container.innerHTML = '';
                
                for (let id in PET_TYPES) {
                    const type = PET_TYPES[id];
                    const owned = this.collection[id];
                    
                    const div = document.createElement('div');
                    div.className = `collection-pet ${owned ? 'owned' : ''}`;
                    div.innerHTML = `
                        <div class="collection-icon">${type.icon}</div>
                        <div style="font-weight: bold; margin-top: 5px;">${owned ? type.name : '???'}</div>
                        <div style="font-size: 12px; color: #666; margin-top: 3px;">${type.rarity}</div>
                    `;
                    container.appendChild(div);
                }
            },
            
            showMessage(text, type) {
                const container = document.getElementById('messages');
                const msg = document.createElement('div');
                msg.className = `message ${type}`;
                msg.textContent = text;
                container.appendChild(msg);
                
                setTimeout(() => {
                    msg.style.opacity = '0';
                    msg.style.transform = 'translateX(100%)';
                    setTimeout(() => msg.remove(), 300);
                }, 3000);
            },
            
            saveGame() {
                const data = {
                    gold: this.gold,
                    team: this.team,
                    collection: this.collection,
                    wins: this.wins
                };
                
                localStorage.setItem('petGame', JSON.stringify(data));
                this.showMessage('Game saved!', 'success');
            },
            
            loadGame() {
                const saved = localStorage.getItem('petGame');
                if (!saved) {
                    this.showMessage('No saved game!', 'error');
                    return;
                }
                
                const data = JSON.parse(saved);
                this.gold = data.gold;
                this.team = data.team;
                this.collection = data.collection;
                this.wins = data.wins;
                
                this.updateUI();
                this.renderCollection();
                this.showMessage('Game loaded!', 'success');
            },
            
            resetGame() {
                if (confirm('Start new game? All progress will be lost!')) {
                    localStorage.removeItem('petGame');
                    location.reload();
                }
            }
        };
        
        game.init();
    </script>
</body>
</html>