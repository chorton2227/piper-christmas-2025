<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Adventure Game - Answer Key</title>
    <style>
        body {
            font-family: 'Georgia', serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            min-height: 100vh;
        }

        h1 {
            color: #f39c12;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            font-size: 36px;
        }

        .game-container {
            background: #ecf0f1;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        #story {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            font-size: 18px;
            line-height: 1.8;
            min-height: 200px;
            margin-bottom: 25px;
            border: 3px solid #34495e;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        #story p {
            margin: 15px 0;
        }

        #story strong {
            color: #e74c3c;
        }

        .choices {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .choice-btn {
            padding: 15px 20px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

        .choice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }

        .choice-btn:active {
            transform: translateY(0);
        }

        .choice-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
        }

        #inventory {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            padding: 20px;
            border-radius: 10px;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

        #inventory strong {
            font-size: 18px;
            display: block;
            margin-bottom: 10px;
        }

        #items {
            font-size: 16px;
            font-weight: bold;
        }

        .game-over {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            border-radius: 10px;
            margin-top: 20px;
        }

        .game-won {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
            border-radius: 10px;
            margin-top: 20px;
        }

        .item-found {
            display: inline-block;
            padding: 5px 12px;
            background-color: #f39c12;
            color: white;
            border-radius: 5px;
            font-weight: bold;
            margin: 5px;
            animation: bounce 0.5s;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .restart-btn {
            padding: 15px 40px;
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            margin-top: 20px;
        }

        .scene-title {
            font-size: 24px;
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <h1>üó∫Ô∏è The Mysterious Forest Adventure</h1>

    <div class="game-container">
        <div id="story"></div>
        <div id="choices" class="choices"></div>
        <div id="inventory">
            <strong>üéí Inventory:</strong>
            <div id="items">Nothing yet</div>
        </div>
    </div>

    <script>
        // Game state variables
        let currentScene = 'start';
        let inventory = [];
        let gameOver = false;
        let hasKey = false;
        let hasTorch = false;
        let hasMap = false;
        let hasSword = false;

        // Start the game
        console.log('=== Adventure Game Started ===');
        updateGame();

        function updateGame() {
            console.log('Current scene:', currentScene);
            console.log('Inventory:', inventory);
            
            if (gameOver) {
                console.log('Game is over');
                return;
            }
            
            // Use switch statement to determine which scene to show
            switch (currentScene) {
                case 'start':
                    showStart();
                    break;
                case 'forest':
                    showForest();
                    break;
                case 'cave':
                    showCave();
                    break;
                case 'village':
                    showVillage();
                    break;
                case 'mountain':
                    showMountain();
                    break;
                case 'river':
                    showRiver();
                    break;
                case 'treasure':
                    showTreasure();
                    break;
                case 'dragon':
                    showDragon();
                    break;
                case 'secret':
                    showSecret();
                    break;
                default:
                    console.log('Unknown scene:', currentScene);
                    showStart();
            }
            
            updateInventory();
        }

        function showStart() {
            const storyDiv = document.getElementById('story');
            const choicesDiv = document.getElementById('choices');
            
            storyDiv.innerHTML = `
                <h2 class="scene-title">üå≤ Awakening in the Forest</h2>
                <p>You slowly open your eyes and find yourself lying on soft moss in a mysterious forest. The sun is setting, casting long shadows between the ancient trees. You have no memory of how you got here.</p>
                <p>As you stand up, you notice three paths leading in different directions. A weathered wooden sign points to each path, but the writing is faded and hard to read.</p>
                <p><strong>Which path will you choose?</strong></p>
            `;
            
            choicesDiv.innerHTML = `
                <button class="choice-btn" onclick="goTo('forest')">üå≤ Explore Deeper into Forest</button>
                <button class="choice-btn" onclick="goTo('cave')">üï≥Ô∏è Enter the Dark Cave</button>
                <button class="choice-btn" onclick="goTo('village')">üèòÔ∏è Follow Path to Village</button>
            `;
        }

        function showForest() {
            const storyDiv = document.getElementById('story');
            const choicesDiv = document.getElementById('choices');
            
            // Different description if player has map
            if (hasMap) {
                storyDiv.innerHTML = `
                    <h2 class="scene-title">üå≤ Deep in the Forest</h2>
                    <p>You consult your map and notice that the forest connects to several interesting locations. According to the map, there's a mountain to the north and the cave you saw earlier is to the west.</p>
                    <p>With the map, you feel more confident about exploring further.</p>
                `;
                
                choicesDiv.innerHTML = `
                    <button class="choice-btn" onclick="goTo('mountain')">‚õ∞Ô∏è Head North to Mountain</button>
                    <button class="choice-btn" onclick="goTo('cave')">üï≥Ô∏è Go West to Cave</button>
                    <button class="choice-btn" onclick="goTo('village')">üèòÔ∏è Go East to Village</button>
                    <button class="choice-btn" onclick="goTo('start')">‚Ü©Ô∏è Return to Starting Point</button>
                `;
            } else {
                storyDiv.innerHTML = `
                    <h2 class="scene-title">üå≤ Deep in the Forest</h2>
                    <p>You venture deeper into the forest. The trees grow denser, and you can barely see the sky above. You feel a bit lost.</p>
                    <p>After walking for a while, you spot something shiny on the ground. It's an old map!</p>
                `;
                
                choicesDiv.innerHTML = `
                    <button class="choice-btn" onclick="takeItem('map')">üìú Take the Map</button>
                    <button class="choice-btn" onclick="goTo('start')">‚Ü©Ô∏è Return to Starting Point</button>
                `;
            }
        }

        function showCave() {
            const storyDiv = document.getElementById('story');
            const choicesDiv = document.getElementById('choices');
            
            // Cave behavior depends on whether player has torch
            if (!hasTorch) {
                storyDiv.innerHTML = `
                    <h2 class="scene-title">üï≥Ô∏è Dark Cave Entrance</h2>
                    <p>You approach the mouth of a dark cave. It's pitch black inside, and you can't see anything. You hear strange echoing sounds from deep within.</p>
                    <p>It would be dangerous to enter without a light source.</p>
                `;
                
                choicesDiv.innerHTML = `
                    <button class="choice-btn" onclick="goTo('village')">üèòÔ∏è Go to Village (Maybe they have a torch?)</button>
                    <button class="choice-btn" onclick="goTo('start')">‚Ü©Ô∏è Return to Starting Point</button>
                `;
            } else {
                // Player has torch
                if (hasKey) {
                    // Player has both torch and key
                    storyDiv.innerHTML = `
                        <h2 class="scene-title">üï≥Ô∏è Inside the Cave</h2>
                        <p>Your torch illuminates the cave walls, revealing ancient paintings of dragons and treasure. You walk deeper and find a locked chest.</p>
                        <p>Your key fits perfectly! Inside the chest, you find a gleaming sword!</p>
                    `;
                    
                    if (!hasSword) {
                        choicesDiv.innerHTML = `
                            <button class="choice-btn" onclick="takeItem('sword')">‚öîÔ∏è Take the Sword</button>
                        `;
                    } else {
                        choicesDiv.innerHTML = `
                            <button class="choice-btn" onclick="goTo('treasure')">üíé Continue to Treasure Room</button>
                            <button class="choice-btn" onclick="goTo('dragon')">üêâ Approach Dragon's Lair</button>
                            <button class="choice-btn" onclick="goTo('start')">‚Ü©Ô∏è Return to Starting Point</button>
                        `;
                    }
                } else {
                    // Has torch but no key
                    storyDiv.innerHTML = `
                        <h2 class="scene-title">üï≥Ô∏è Inside the Cave</h2>
                        <p>Your torch lights up the cave. You see ancient paintings on the walls and a locked chest in the corner.</p>
                        <p>You need a key to open the chest. Perhaps someone in the village has one?</p>
                    `;
                    
                    choicesDiv.innerHTML = `
                        <button class="choice-btn" onclick="goTo('village')">üèòÔ∏è Go to Village</button>
                        <button class="choice-btn" onclick="goTo('start')">‚Ü©Ô∏è Return to Starting Point</button>
                    `;
                }
            }
        }

        function showVillage() {
            const storyDiv = document.getElementById('story');
            const choicesDiv = document.getElementById('choices');
            
            storyDiv.innerHTML = `
                <h2 class="scene-title">üèòÔ∏è Peaceful Village</h2>
                <p>You arrive at a small, friendly village. Villagers are going about their daily business. An old man sitting on a bench notices you.</p>
                <p>"Ah, a traveler! Welcome! Are you seeking the legendary treasure in the cave? I have items that might help you."</p>
            `;
            
            let choices = '';
            
            if (!hasTorch) {
                choices += `<button class="choice-btn" onclick="takeItem('torch')">üî¶ Ask for a Torch</button>`;
            }
            
            if (!hasKey) {
                choices += `<button class="choice-btn" onclick="takeItem('key')">üîë Ask for a Key</button>`;
            }
            
            choices += `
                <button class="choice-btn" onclick="goTo('river')">üåä Go to River (South)</button>
                <button class="choice-btn" onclick="goTo('cave')">üï≥Ô∏è Go to Cave (West)</button>
                <button class="choice-btn" onclick="goTo('start')">‚Ü©Ô∏è Return to Forest</button>
            `;
            
            choicesDiv.innerHTML = choices;
        }

        function showMountain() {
            const storyDiv = document.getElementById('story');
            const choicesDiv = document.getElementById('choices');
            
            // Check if player has map
            if (!hasMap) {
                storyDiv.innerHTML = `
                    <h2 class="scene-title">‚õ∞Ô∏è Lost on the Mountain</h2>
                    <p>You try to climb the mountain but quickly get lost. The paths are confusing, and you're not sure which way to go.</p>
                    <p>You need a map to navigate safely.</p>
                `;
                
                choicesDiv.innerHTML = `
                    <button class="choice-btn" onclick="goTo('forest')">üå≤ Return to Forest</button>
                `;
            } else {
                storyDiv.innerHTML = `
                    <h2 class="scene-title">‚õ∞Ô∏è Mountain Peak</h2>
                    <p>Using your map, you successfully navigate to the mountain peak! From here, you can see the entire region.</p>
                    <p>You notice a hidden path marked on your map that leads to a secret location!</p>
                `;
                
                choicesDiv.innerHTML = `
                    <button class="choice-btn" onclick="goTo('secret')">‚ú® Follow Secret Path</button>
                    <button class="choice-btn" onclick="goTo('forest')">üå≤ Return to Forest</button>
                `;
            }
        }

        function showRiver() {
            const storyDiv = document.getElementById('story');
            const choicesDiv = document.getElementById('choices');
            
            storyDiv.innerHTML = `
                <h2 class="scene-title">üåä Crystal Clear River</h2>
                <p>You arrive at a beautiful river with crystal-clear water. The sound of flowing water is peaceful and calming.</p>
                <p>You take a moment to rest and think about your next move.</p>
            `;
            
            choicesDiv.innerHTML = `
                <button class="choice-btn" onclick="goTo('village')">üèòÔ∏è Return to Village</button>
                <button class="choice-btn" onclick="goTo('start')">üå≤ Return to Forest</button>
            `;
        }

        function showTreasure() {
            // Good ending - found treasure!
            const storyDiv = document.getElementById('story');
            const choicesDiv = document.getElementById('choices');
            
            gameOver = true;
            
            storyDiv.innerHTML = `
                <div class="game-won">
                    <h2>üéâ VICTORY! üéâ</h2>
                    <p style="font-size: 24px;">You've found the legendary treasure!</p>
                    <p>Using your torch to see, your key to unlock the chest, and your sword for protection, you successfully retrieved the treasure and became a legend!</p>
                    <p><strong>Items collected:</strong> ${inventory.length} items</p>
                    <button class="restart-btn" onclick="restartGame()">üîÑ Play Again</button>
                </div>
            `;
            
            choicesDiv.innerHTML = '';
            
            console.log('GOOD ENDING: Treasure found!');
        }

        function showDragon() {
            const storyDiv = document.getElementById('story');
            const choicesDiv = document.getElementById('choices');
            
            // Check if player has sword
            if (hasSword) {
                // Can defeat dragon
                storyDiv.innerHTML = `
                    <h2 class="scene-title">üêâ Dragon's Lair</h2>
                    <p>A massive dragon awakens and roars at you! But you're prepared.</p>
                    <p>With your sword in hand, you bravely face the dragon. After an epic battle, you emerge victorious!</p>
                    <p>Behind the dragon, you discover the ultimate treasure!</p>
                `;
                
                choicesDiv.innerHTML = `
                    <button class="choice-btn" onclick="goTo('treasure')">üíé Claim the Treasure</button>
                `;
            } else {
                // No sword - bad ending
                gameOver = true;
                
                storyDiv.innerHTML = `
                    <div class="game-over">
                        <h2>üíÄ GAME OVER üíÄ</h2>
                        <p style="font-size: 20px;">You encountered a dragon without a weapon!</p>
                        <p>The dragon was too powerful. You needed a sword to defeat it.</p>
                        <p>Better luck next time!</p>
                        <button class="restart-btn" onclick="restartGame()">üîÑ Try Again</button>
                    </div>
                `;
                
                choicesDiv.innerHTML = '';
                
                console.log('BAD ENDING: Defeated by dragon');
            }
        }

        function showSecret() {
            // Secret ending!
            const storyDiv = document.getElementById('story');
            const choicesDiv = document.getElementById('choices');
            
            // Check if player has all items
            if (hasMap && hasTorch && hasKey && hasSword) {
                gameOver = true;
                
                storyDiv.innerHTML = `
                    <div class="game-won" style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);">
                        <h2>‚ú® SECRET ENDING! ‚ú®</h2>
                        <p style="font-size: 24px;">You discovered the Ancient Temple!</p>
                        <p>By collecting ALL items and finding the secret path, you've unlocked the legendary Ancient Temple.</p>
                        <p>Inside, you find not just treasure, but ancient wisdom and magical artifacts beyond your wildest dreams!</p>
                        <p><strong>Perfect completion:</strong> All ${inventory.length} items collected!</p>
                        <p>üèÜ <em>You are a TRUE MASTER ADVENTURER!</em> üèÜ</p>
                        <button class="restart-btn" onclick="restartGame()">üîÑ Play Again</button>
                    </div>
                `;
                
                choicesDiv.innerHTML = '';
                
                console.log('SECRET ENDING: Perfect completion!');
            } else {
                storyDiv.innerHTML = `
                    <h2 class="scene-title">‚ú® Hidden Path</h2>
                    <p>You follow the secret path and find ancient ruins, but they're sealed with powerful magic.</p>
                    <p>A glowing inscription reads: "Only those who possess all items may enter."</p>
                    <p>You need: Map ‚úì, Torch ${hasTorch ? '‚úì' : '‚úó'}, Key ${hasKey ? '‚úì' : '‚úó'}, Sword ${hasSword ? '‚úó' : '‚úó'}</p>
                `;
                
                choicesDiv.innerHTML = `
                    <button class="choice-btn" onclick="goTo('mountain')">‚õ∞Ô∏è Return to Mountain</button>
                    <button class="choice-btn" onclick="goTo('village')">üèòÔ∏è Go to Village</button>
                `;
            }
        }

        function goTo(scene) {
            console.log('Traveling to:', scene);
            currentScene = scene;
            updateGame();
        }

        function takeItem(item) {
            console.log('Taking item:', item);
            
            // Check if already have this item
            if (inventory.includes(item)) {
                console.log('Already have this item');
                return;
            }
            
            // Add item to inventory
            inventory.push(item);
            
            // Update item flags
            switch (item) {
                case 'map':
                    hasMap = true;
                    console.log('Obtained: Map');
                    break;
                case 'torch':
                    hasTorch = true;
                    console.log('Obtained: Torch');
                    break;
                case 'key':
                    hasKey = true;
                    console.log('Obtained: Key');
                    break;
                case 'sword':
                    hasSword = true;
                    console.log('Obtained: Sword');
                    break;
            }
            
            updateGame();
        }

        function updateInventory() {
            const itemsDiv = document.getElementById('items');
            
            if (inventory.length === 0) {
                itemsDiv.innerHTML = '<em>Nothing yet</em>';
            } else {
                // Create emoji display for items
                const itemEmojis = {
                    'map': 'üìú Map',
                    'torch': 'üî¶ Torch',
                    'key': 'üîë Key',
                    'sword': '‚öîÔ∏è Sword'
                };
                
                const itemList = inventory.map(item => 
                    `<span class="item-found">${itemEmojis[item]}</span>`
                ).join(' ');
                
                itemsDiv.innerHTML = itemList;
            }
        }

        function restartGame() {
            console.log('=== Restarting Game ===');
            
            // Reset all game state
            currentScene = 'start';
            inventory = [];
            gameOver = false;
            hasKey = false;
            hasTorch = false;
            hasMap = false;
            hasSword = false;
            
            // Restart the game
            updateGame();
            
            console.log('Game restarted!');
        }

        console.log('Adventure game loaded!');
        console.log('Total scenes available: 9');
        console.log('Total items to collect: 4');
        console.log('Multiple endings available!');
    </script>
</body>
</html>
