<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 3 Solution: Theme Switcher Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* CSS Custom Properties (Variables) */
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #ecf0f1;
            --text-color: #2c3e50;
            --card-background: white;
            --sidebar-width: 250px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--background-color);
            color: var(--text-color);
            transition: all 0.3s;
        }

        /* Theme Styles */
        body.dark-theme {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #2c3e50;
            --text-color: #ecf0f1;
            --card-background: #34495e;
        }

        body.high-contrast {
            --primary-color: #ffff00;
            --secondary-color: #00ff00;
            --background-color: #000000;
            --text-color: #ffffff;
            --card-background: #1a1a1a;
        }

        body.ocean-theme {
            --primary-color: #006994;
            --secondary-color: #00d4ff;
            --background-color: #e6f7ff;
            --text-color: #003d5c;
            --card-background: #cceeff;
        }

        body.forest-theme {
            --primary-color: #2d5016;
            --secondary-color: #76b947;
            --background-color: #f0f4ed;
            --text-color: #1a3008;
            --card-background: #e8f0e0;
        }

        /* Font Sizes */
        body.font-small { font-size: 14px; }
        body.font-medium { font-size: 16px; }
        body.font-large { font-size: 18px; }
        body.font-xlarge { font-size: 20px; }

        /* Layout */
        .dashboard {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: var(--sidebar-width);
            background: var(--card-background);
            padding: 20px;
            transition: all 0.3s;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        .sidebar.collapsed {
            width: 60px;
        }

        .sidebar.collapsed .menu-text {
            display: none;
        }

        .main-content {
            flex: 1;
            padding: 20px;
        }

        /* Header */
        .header {
            background: var(--card-background);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1 {
            color: var(--primary-color);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: var(--card-background);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .stat-label {
            color: var(--text-color);
            opacity: 0.7;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: var(--primary-color);
        }

        /* Settings Panel */
        .settings-panel {
            background: var(--card-background);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .settings-section {
            margin-bottom: 25px;
        }

        .settings-section h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        /* Theme Buttons */
        .theme-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .theme-btn {
            padding: 10px 20px;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
        }

        .theme-btn.light {
            background: #ecf0f1;
            color: #2c3e50;
        }

        .theme-btn.dark {
            background: #2c3e50;
            color: #ecf0f1;
        }

        .theme-btn.contrast {
            background: #000;
            color: #fff;
        }

        .theme-btn.ocean {
            background: #e6f7ff;
            color: #003d5c;
        }

        .theme-btn.forest {
            background: #f0f4ed;
            color: #1a3008;
        }

        .theme-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .theme-btn.active {
            border-color: var(--primary-color);
        }

        /* Font Size Controls */
        .font-controls {
            display: flex;
            gap: 10px;
        }

        .font-btn {
            flex: 1;
            padding: 10px;
            background: var(--background-color);
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .font-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        /* Custom Color Controls */
        .color-customizer {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
            align-items: center;
        }

        .color-input {
            padding: 8px;
            border: 2px solid var(--primary-color);
            border-radius: 5px;
            font-size: 1em;
        }

        /* Layout Controls */
        .layout-controls {
            display: flex;
            gap: 10px;
        }

        button {
            padding: 10px 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
        }

        button:hover {
            opacity: 0.8;
            transform: translateY(-2px);
        }

        /* Menu Items */
        .menu-item {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .menu-item:hover {
            background: var(--background-color);
        }

        .menu-icon {
            font-size: 1.2em;
        }

        /* Compact Mode */
        .dashboard.compact-mode .stat-card {
            padding: 10px;
        }

        .dashboard.compact-mode .stat-value {
            font-size: 1.5em;
        }

        /* Toggle Switch */
        .toggle-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 25px;
            background: #ccc;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toggle-switch.active {
            background: var(--primary-color);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            top: 2.5px;
            left: 2.5px;
            transition: all 0.3s;
        }

        .toggle-switch.active::after {
            left: 27.5px;
        }
    </style>
</head>
<body class="font-medium">
    <div id="dashboard" class="dashboard">
        <!-- Sidebar -->
        <div id="sidebar" class="sidebar">
            <h2 style="margin-bottom: 20px;">📊 Menu</h2>
            <div class="menu-item">
                <span class="menu-icon">🏠</span>
                <span class="menu-text">Dashboard</span>
            </div>
            <div class="menu-item">
                <span class="menu-icon">📈</span>
                <span class="menu-text">Analytics</span>
            </div>
            <div class="menu-item">
                <span class="menu-icon">⚙️</span>
                <span class="menu-text">Settings</span>
            </div>
            <div class="menu-item">
                <span class="menu-icon">👤</span>
                <span class="menu-text">Profile</span>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div>
                    <h1>Dashboard</h1>
                    <p>Exercise 3 Solution: Theme Switcher</p>
                </div>
                <button onclick="toggleSidebar()">
                    <span id="sidebarIcon">←</span> Toggle Sidebar
                </button>
            </div>

            <!-- Stats Grid -->
            <div id="statsGrid" class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Total Users</div>
                    <div class="stat-value">1,234</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Revenue</div>
                    <div class="stat-value">$56.7K</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Active Now</div>
                    <div class="stat-value">89</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Growth</div>
                    <div class="stat-value">+12%</div>
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="settings-panel">
                <h2 style="color: var(--primary-color); margin-bottom: 20px;">🎨 Customize Your Dashboard</h2>

                <!-- Theme Selection -->
                <div class="settings-section">
                    <h3>Select Theme</h3>
                    <div class="theme-selector">
                        <button class="theme-btn light active" onclick="switchTheme('light-theme')">☀️ Light</button>
                        <button class="theme-btn dark" onclick="switchTheme('dark-theme')">🌙 Dark</button>
                        <button class="theme-btn contrast" onclick="switchTheme('high-contrast')">⚡ High Contrast</button>
                        <button class="theme-btn ocean" onclick="switchTheme('ocean-theme')">🌊 Ocean</button>
                        <button class="theme-btn forest" onclick="switchTheme('forest-theme')">🌲 Forest</button>
                    </div>
                </div>

                <!-- Font Size -->
                <div class="settings-section">
                    <h3>Font Size</h3>
                    <div class="font-controls">
                        <button class="font-btn" onclick="changeFontSize('small')">Small</button>
                        <button class="font-btn active" onclick="changeFontSize('medium')">Medium</button>
                        <button class="font-btn" onclick="changeFontSize('large')">Large</button>
                        <button class="font-btn" onclick="changeFontSize('xlarge')">X-Large</button>
                    </div>
                </div>

                <!-- Custom Colors -->
                <div class="settings-section">
                    <h3>Custom Colors (Advanced)</h3>
                    <div class="color-customizer">
                        <label>Primary:</label>
                        <input type="color" id="primaryColor" class="color-input" value="#3498db">
                        <label>Secondary:</label>
                        <input type="color" id="secondaryColor" class="color-input" value="#2ecc71">
                        <label>Background:</label>
                        <input type="color" id="bgColor" class="color-input" value="#ecf0f1">
                    </div>
                    <button onclick="applyCustomColors()" style="margin-top: 10px;">Apply Custom Colors</button>
                </div>

                <!-- Layout Options -->
                <div class="settings-section">
                    <h3>Layout Options</h3>
                    <div class="layout-controls">
                        <div class="toggle-container">
                            <span>Compact Mode:</span>
                            <div class="toggle-switch" id="compactToggle" onclick="toggleCompactMode()"></div>
                        </div>
                        <button onclick="changeColumns(2)">2 Columns</button>
                        <button onclick="changeColumns(3)">3 Columns</button>
                        <button onclick="changeColumns(4)">4 Columns</button>
                    </div>
                </div>

                <!-- Reset -->
                <div class="settings-section">
                    <button onclick="resetSettings()" style="background: #e74c3c;">🔄 Reset All Settings</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        console.log('=== EXERCISE 3 SOLUTION: THEME SWITCHER DASHBOARD ===\n');

        let currentTheme = 'light-theme';

        // Switch theme using classList
        function switchTheme(themeName) {
            let body = document.body;
            
            // Remove all theme classes
            body.classList.remove('light-theme', 'dark-theme', 'high-contrast', 'ocean-theme', 'forest-theme');
            
            // Add selected theme (only if not light-theme, which is default)
            if (themeName !== 'light-theme') {
                body.classList.add(themeName);
            }
            
            currentTheme = themeName;
            
            // Update button states
            let themeButtons = document.querySelectorAll('.theme-btn');
            themeButtons.forEach(function(btn) {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Save preference
            localStorage.setItem('preferred-theme', themeName);
            
            console.log('Theme changed to:', themeName);
        }

        // Change font size
        function changeFontSize(size) {
            let body = document.body;
            
            // Remove all font size classes
            body.classList.remove('font-small', 'font-medium', 'font-large', 'font-xlarge');
            
            // Add new font size
            body.classList.add('font-' + size);
            
            // Update button states
            let fontButtons = document.querySelectorAll('.font-btn');
            fontButtons.forEach(function(btn) {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Save preference
            localStorage.setItem('font-size', size);
            
            console.log('Font size changed to:', size);
        }

        // Apply custom colors using CSS custom properties
        function applyCustomColors() {
            let primary = document.getElementById('primaryColor').value;
            let secondary = document.getElementById('secondaryColor').value;
            let bg = document.getElementById('bgColor').value;
            
            let root = document.documentElement;
            root.style.setProperty('--primary-color', primary);
            root.style.setProperty('--secondary-color', secondary);
            root.style.setProperty('--background-color', bg);
            
            console.log('Custom colors applied:', {primary, secondary, bg});
        }

        // Toggle sidebar
        function toggleSidebar() {
            let sidebar = document.getElementById('sidebar');
            let icon = document.getElementById('sidebarIcon');
            
            sidebar.classList.toggle('collapsed');
            
            if (sidebar.classList.contains('collapsed')) {
                icon.textContent = '→';
                console.log('Sidebar collapsed');
            } else {
                icon.textContent = '←';
                console.log('Sidebar expanded');
            }
        }

        // Toggle compact mode
        function toggleCompactMode() {
            let dashboard = document.getElementById('dashboard');
            let toggle = document.getElementById('compactToggle');
            
            dashboard.classList.toggle('compact-mode');
            toggle.classList.toggle('active');
            
            let isCompact = dashboard.classList.contains('compact-mode');
            console.log('Compact mode:', isCompact ? 'ON' : 'OFF');
        }

        // Change grid columns
        function changeColumns(columns) {
            let grid = document.getElementById('statsGrid');
            grid.style.gridTemplateColumns = 'repeat(' + columns + ', 1fr)';
            console.log('Layout changed to', columns, 'columns');
        }

        // Reset all settings
        function resetSettings() {
            console.log('Resetting all settings...');
            
            // Reset theme
            switchTheme('light-theme');
            let lightBtn = document.querySelector('.theme-btn.light');
            if (lightBtn) lightBtn.classList.add('active');
            
            // Reset font size
            let body = document.body;
            body.classList.remove('font-small', 'font-medium', 'font-large', 'font-xlarge');
            body.classList.add('font-medium');
            
            // Reset font buttons
            let fontButtons = document.querySelectorAll('.font-btn');
            fontButtons.forEach(function(btn, index) {
                btn.classList.remove('active');
                if (index === 1) btn.classList.add('active'); // Medium
            });
            
            // Reset colors
            document.getElementById('primaryColor').value = '#3498db';
            document.getElementById('secondaryColor').value = '#2ecc71';
            document.getElementById('bgColor').value = '#ecf0f1';
            
            let root = document.documentElement;
            root.style.removeProperty('--primary-color');
            root.style.removeProperty('--secondary-color');
            root.style.removeProperty('--background-color');
            
            // Reset compact mode
            let dashboard = document.getElementById('dashboard');
            let toggle = document.getElementById('compactToggle');
            dashboard.classList.remove('compact-mode');
            toggle.classList.remove('active');
            
            // Reset grid
            let grid = document.getElementById('statsGrid');
            grid.style.gridTemplateColumns = '';
            
            // Clear localStorage
            localStorage.removeItem('preferred-theme');
            localStorage.removeItem('font-size');
            
            console.log('Settings reset to defaults!');
        }

        // Load saved preferences
        function loadPreferences() {
            let savedTheme = localStorage.getItem('preferred-theme');
            let savedFontSize = localStorage.getItem('font-size');
            
            if (savedTheme && savedTheme !== 'light-theme') {
                document.body.classList.add(savedTheme);
                currentTheme = savedTheme;
                console.log('Loaded saved theme:', savedTheme);
            }
            
            if (savedFontSize) {
                document.body.classList.remove('font-small', 'font-medium', 'font-large', 'font-xlarge');
                document.body.classList.add('font-' + savedFontSize);
                console.log('Loaded saved font size:', savedFontSize);
            }
        }

        // Initialize
        loadPreferences();
        
        console.log('✓ Theme Switcher Dashboard loaded!');
        console.log('');
        console.log('DOM Manipulation Used:');
        console.log('  - classList.add/remove for theme switching');
        console.log('  - classList.toggle for UI states');
        console.log('  - style.setProperty for CSS custom properties');
        console.log('  - localStorage for saving preferences');
        console.log('  - style.gridTemplateColumns for layout changes');
        console.log('');
        console.log('Try customizing the dashboard!');
    </script>
</body>
</html>